# ğŸŒ Tech Challenge - API Gateway

RepositÃ³rio responsÃ¡vel pelo AWS API Gateway que expÃµe os microserviÃ§os para a internet.

## ğŸ“ Arquitetura

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                  INTERNET                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              API Gateway (Regional)                                  â”‚
â”‚                    https://xxx.execute-api.us-east-1.amazonaws.com                  â”‚
â”‚                                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                              Stage: /dev                                        â”‚ â”‚
â”‚  â”‚                                                                                 â”‚ â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚   â”‚                    ENDPOINTS PÃšBLICOS (Sem Auth)                         â”‚  â”‚ â”‚
â”‚  â”‚   â”‚                                                                          â”‚  â”‚ â”‚
â”‚  â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚ â”‚
â”‚  â”‚   â”‚   â”‚  GET /products   â”‚   â”‚ GET /categories  â”‚   â”‚  GET /health     â”‚    â”‚  â”‚ â”‚
â”‚  â”‚   â”‚   â”‚                  â”‚   â”‚                  â”‚   â”‚                  â”‚    â”‚  â”‚ â”‚
â”‚  â”‚   â”‚   â”‚  Lista produtos  â”‚   â”‚ Lista categorias â”‚   â”‚  Health check    â”‚    â”‚  â”‚ â”‚
â”‚  â”‚   â”‚   â”‚  do cardÃ¡pio     â”‚   â”‚  disponÃ­veis     â”‚   â”‚  do sistema      â”‚    â”‚  â”‚ â”‚
â”‚  â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚ â”‚
â”‚  â”‚   â”‚            â”‚                      â”‚                      â”‚              â”‚  â”‚ â”‚
â”‚  â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚  â”‚ â”‚
â”‚  â”‚   â”‚   â”‚ POST /auth/cpf   â”‚   â”‚ POST /webhooks   â”‚                          â”‚  â”‚ â”‚
â”‚  â”‚   â”‚   â”‚                  â”‚   â”‚                  â”‚                          â”‚  â”‚ â”‚
â”‚  â”‚   â”‚   â”‚  Lambda Function â”‚   â”‚  MercadoPago     â”‚                          â”‚  â”‚ â”‚
â”‚  â”‚   â”‚   â”‚  (autenticaÃ§Ã£o)  â”‚   â”‚  callbacks       â”‚                          â”‚  â”‚ â”‚
â”‚  â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚  â”‚ â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚                â”‚                      â”‚                                         â”‚ â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚   â”‚            â”‚     ENDPOINTS PROTEGIDOS (Cognito JWT)                      â”‚  â”‚ â”‚
â”‚  â”‚   â”‚            â”‚                      â”‚                                      â”‚  â”‚ â”‚
â”‚  â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚ â”‚
â”‚  â”‚   â”‚   â”‚  GET /customers  â”‚   â”‚  GET /orders     â”‚   â”‚ POST /payments   â”‚    â”‚  â”‚ â”‚
â”‚  â”‚   â”‚   â”‚                  â”‚   â”‚  POST /orders    â”‚   â”‚                  â”‚    â”‚  â”‚ â”‚
â”‚  â”‚   â”‚   â”‚  ğŸ”’ Cognito Auth â”‚   â”‚  ğŸ”’ Cognito Auth â”‚   â”‚  ğŸ”’ Cognito Auth â”‚    â”‚  â”‚ â”‚
â”‚  â”‚   â”‚   â”‚                  â”‚   â”‚                  â”‚   â”‚                  â”‚    â”‚  â”‚ â”‚
â”‚  â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚ â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚                â”‚                      â”‚                      â”‚                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                   â”‚                      â”‚                      â”‚                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚               â”‚          VPC Link    â”‚                      â”‚                 â”‚ â”‚
â”‚   â”‚               â–¼                      â–¼                      â–¼                 â”‚ â”‚
â”‚   â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚ â”‚
â”‚   â”‚         â”‚           Network Load Balancer (Internal)              â”‚           â”‚ â”‚
â”‚   â”‚         â”‚                    Port 80 â†’ 30080                      â”‚           â”‚ â”‚
â”‚   â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚ â”‚
â”‚   â”‚                                    â”‚                                          â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                        â”‚                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â–¼
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚   NGINX Ingress (EKS)   â”‚
                            â”‚                         â”‚
                            â”‚  Routes to services:    â”‚
                            â”‚  /api/customers         â”‚
                            â”‚  /api/orders            â”‚
                            â”‚  /api/products          â”‚
                            â”‚  /api/categories        â”‚
                            â”‚  /api/payments          â”‚
                            â”‚  /api/webhooks          â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”— Fluxo de AutenticaÃ§Ã£o

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         FLUXO DE AUTENTICAÃ‡ÃƒO POR CPF                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚   Cliente  â”‚         â”‚    API     â”‚         â”‚   Lambda   â”‚         â”‚  Cognito   â”‚
  â”‚  (Totem)   â”‚         â”‚  Gateway   â”‚         â”‚  Function  â”‚         â”‚ User Pool  â”‚
  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
        â”‚                      â”‚                      â”‚                      â”‚
        â”‚ POST /auth/cpf       â”‚                      â”‚                      â”‚
        â”‚ {"cpf":"12345678901"}â”‚                      â”‚                      â”‚
        â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                      â”‚                      â”‚
        â”‚                      â”‚                      â”‚                      â”‚
        â”‚                      â”‚ Invoke Lambda        â”‚                      â”‚
        â”‚                      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                      â”‚
        â”‚                      â”‚                      â”‚                      â”‚
        â”‚                      â”‚                      â”‚ Validate CPF         â”‚
        â”‚                      â”‚                      â”‚ Generate Token       â”‚
        â”‚                      â”‚                      â”‚                      â”‚
        â”‚                      â”‚ Return Token         â”‚                      â”‚
        â”‚                      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                      â”‚
        â”‚                      â”‚                      â”‚                      â”‚
        â”‚ {"token":"eyJ..."}   â”‚                      â”‚                      â”‚
        â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                      â”‚                      â”‚
        â”‚                      â”‚                      â”‚                      â”‚
        â”‚                      â”‚                      â”‚                      â”‚
        â”‚ GET /orders          â”‚                      â”‚                      â”‚
        â”‚ Authorization: Bearerâ”‚ {token}              â”‚                      â”‚
        â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                      â”‚                      â”‚
        â”‚                      â”‚                      â”‚                      â”‚
        â”‚                      â”‚ Validate JWT         â”‚                      â”‚
        â”‚                      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
        â”‚                      â”‚                      â”‚                      â”‚
        â”‚                      â”‚ JWT Valid            â”‚                      â”‚
        â”‚                      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
        â”‚                      â”‚                      â”‚                      â”‚
        â”‚                      â”‚ Forward to NLB/EKS   â”‚                      â”‚
        â”‚                      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                      â”‚
        â”‚                      â”‚                      â”‚                      â”‚
        â”‚ {orders...}          â”‚                      â”‚                      â”‚
        â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                      â”‚                      â”‚
        â”‚                      â”‚                      â”‚                      â”‚
```

## ğŸ“‹ Endpoints

### PÃºblicos (Sem AutenticaÃ§Ã£o)

| MÃ©todo | Endpoint | Destino | DescriÃ§Ã£o |
|--------|----------|---------|-----------|
| POST | `/auth/cpf` | Lambda | AutenticaÃ§Ã£o por CPF |
| GET | `/health` | NLB â†’ Orders | Health check |
| GET | `/products` | NLB â†’ Orders | Lista produtos |
| GET | `/categories` | NLB â†’ Orders | Lista categorias |
| POST | `/webhooks` | NLB â†’ Orders | Webhooks MercadoPago |

### Protegidos (Cognito JWT)

| MÃ©todo | Endpoint | Destino | DescriÃ§Ã£o |
|--------|----------|---------|-----------|
| GET | `/customers` | NLB â†’ Customer | Lista clientes |
| GET | `/orders` | NLB â†’ Orders | Lista pedidos |
| POST | `/orders` | NLB â†’ Orders | Cria pedido |
| POST | `/payments` | NLB â†’ Payments | Cria pagamento |

## ğŸ“¦ O que este repositÃ³rio cria

| Recurso | DescriÃ§Ã£o |
|---------|-----------|
| `aws_api_gateway_rest_api` | API Gateway REST |
| `aws_api_gateway_resource` | Resources para cada endpoint |
| `aws_api_gateway_method` | MÃ©todos HTTP |
| `aws_api_gateway_integration` | IntegraÃ§Ãµes com VPC Link e Lambda |
| `aws_api_gateway_vpc_link` | VPC Link para NLB |
| `aws_api_gateway_authorizer` | Cognito Authorizer |
| `aws_api_gateway_deployment` | Deploy da API |
| `aws_api_gateway_stage` | Stage "dev" |
| `aws_lambda_function` | Lambda de autenticaÃ§Ã£o por CPF |

## ğŸ“‹ Outputs Exportados

| Output | DescriÃ§Ã£o |
|--------|-----------|
| `api_gateway_url` | URL base da API |
| `api_gateway_id` | ID do API Gateway |
| `api_gateway_stage` | Nome do stage (dev) |

## ğŸ“¦ DependÃªncias (Remote State)

```hcl
# Infra (VPC, Cognito, NLB)
data "terraform_remote_state" "infra" {
  backend = "s3"
  config = {
    bucket = "tech-challenge-tfstate-group240"
    key    = "infra/terraform.tfstate"
    region = "us-east-1"
  }
}
```

## ğŸ” Secrets NecessÃ¡rios (GitHub)

- `AWS_ACCESS_KEY_ID`
- `AWS_SECRET_ACCESS_KEY`
- `AWS_SESSION_TOKEN` (obrigatÃ³rio para AWS Academy Learner Lab)

## ğŸš€ Como usar

```bash
terraform init
terraform plan
terraform apply

# Obter URL da API
terraform output api_gateway_url
```

   ```bash
   terraform plan
   ```

5. **Apply the Configuration**: Deploy the API Gateway.

   ```bash
   terraform apply
   ```

## Usage

After deployment, the API Gateway will be available at the URL provided in the outputs. You can use the Postman collection in `refs/Tech_Challenge_API.postman_collection.json` to test the endpoints.

## Contributing

Feel free to submit issues or pull requests for improvements or bug fixes.
